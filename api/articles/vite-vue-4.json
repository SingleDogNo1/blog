{"title":"vue3 脚手架（四）","slug":"vite-vue-4","date":"2021-07-06T02:36:18.000Z","updated":"2023-06-21T08:55:09.214Z","comments":true,"path":"api/articles/vite-vue-4.json","excerpt":null,"covers":null,"content":"<blockquote>\n<p>本文仓库地址为: <a href=\"https://github.com/lost-dream/vue3-template\" target=\"_blank\" rel=\"noopener\">vue3-template</a><br>书写过程中未必包含每一个细节，包括一些开发环境的依赖添加，包括一些 <code>utils</code> 函数的实现，包括一些很大的比如 <code>axios</code>模块，我都可能漏写或者没有精力详细写进去，有兴趣的可以自己去看源码</p>\n</blockquote>\n<h2 id=\"element-ui\"><a href=\"#element-ui\" class=\"headerlink\" title=\"element-ui\"></a>element-ui</h2><p>安装 <code>element-plus</code></p>\n<div class=\"code-panel__wrapper\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\"><header class=\"mac-panel\"><span class=\"doc-path\"></span><span class=\"mac-panel__language\">SHELL</span></header><figure class=\"iseeu highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add element-plus@latest</span><br></pre></td></tr></table></figure></div>\n<p>新建 <code>src/plugins</code>文件夹，管理第三方插件。该目录下新建 <code>index.ts</code> 作为出口文件暴露所有插件。新建 <code>element-ui</code> 文件夹，编辑 <code>element-plus</code> 相关配置。如果再添加其他插件，参考 <code>element-plus</code>逻辑。最终结构如下:</p>\n<div class=\"code-panel__wrapper\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\"><header class=\"mac-panel\"><span class=\"doc-path\"></span><span class=\"mac-panel__language\">PLAIN</span></header><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├── plugins</span><br><span class=\"line\">│   ├── index.ts        所有插件汇总统一暴露的出口文件</span><br><span class=\"line\">│   └── element-ui      element-plus 配置文件夹</span><br><span class=\"line\">│       ├── index.ts    js 配置</span><br><span class=\"line\">│       └── index.scss  自定义主题文件</span><br></pre></td></tr></table></figure></div>\n<div class=\"code-panel__wrapper\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\"><header class=\"mac-panel\"><span class=\"doc-path\"></span><span class=\"mac-panel__language\">TS</span></header><figure class=\"iseeu highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/** src/plugins/element-ui/index.scss */</span></span><br><span class=\"line\">$--color-primary: pink;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 改变 icon 字体路径变量，必需 */</span></span><br><span class=\"line\">$--font-path: <span class=\"string\">'node_modules/element-plus/lib/theme-chalk/fonts'</span>;</span><br><span class=\"line\"><span class=\"meta\">@import</span> <span class=\"string\">'node_modules/element-plus/packages/theme-chalk/src/index.scss'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/** src/plugins/element-ui/index.ts */</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Element <span class=\"keyword\">from</span> <span class=\"string\">'element-plus'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./index.scss'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; App &#125; <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setupElementUI</span>(<span class=\"params\">app: App&lt;Element&gt;</span>) </span>&#123;</span><br><span class=\"line\">  app.config.globalProperties.$ELEMENT = &#123; size: <span class=\"string\">'medium'</span>, zIndex: <span class=\"number\">3000</span> &#125;</span><br><span class=\"line\">  app.use(Element)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/** src/plugins/index.ts */</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; App &#125; <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; setupElementUI &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./element-ui'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setupGlobPlugins</span>(<span class=\"params\">app: App&lt;Element&gt;</span>) </span>&#123;</span><br><span class=\"line\">  setupElementUI(app)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n<p>在 <code>main.ts</code> 中注册插件</p>\n<div class=\"code-panel__wrapper\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\"><header class=\"mac-panel\"><span class=\"doc-path\"></span><span class=\"mac-panel__language\">DIFF</span></header><figure class=\"iseeu highlight diff\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"addition\">+  &#123; setupGlobPlugins &#125; from './plugins'</span></span><br><span class=\"line\">async function bootstrap() &#123;</span><br><span class=\"line\"><span class=\"addition\">+  await setupGlobPlugins(app)</span></span><br><span class=\"line\">  await setupStore(app)</span><br><span class=\"line\">  await setupRouter(app)</span><br><span class=\"line\"></span><br><span class=\"line\">  // 所有组件注册完成</span><br><span class=\"line\">  await router.isReady()</span><br><span class=\"line\">  app.mount('#app')</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n<h2 id=\"tailwindcss\"><a href=\"#tailwindcss\" class=\"headerlink\" title=\"tailwindcss\"></a>tailwindcss</h2><p>参考<a href=\"https://tailwindcss.com/docs/guides/vue-3-vite#setting-up-tailwind-css\" target=\"_blank\" rel=\"noopener\">官方文档</a>, 安装配置</p>\n","more":"<blockquote>\n<p>本文仓库地址为: <a href=\"https://github.com/lost-dream/vue3-template\" target=\"_blank\" rel=\"noopener\">vue3-template</a><br>书写过程中未必包含每一个细节，包括一些开发环境的依赖添加，包括一些 <code>utils</code> 函数的实现，包括一些很大的比如 <code>axios</code>模块，我都可能漏写或者没有精力详细写进去，有兴趣的可以自己去看源码</p>\n</blockquote>\n<h2 id=\"element-ui\"><a href=\"#element-ui\" class=\"headerlink\" title=\"element-ui\"></a>element-ui</h2><p>安装 <code>element-plus</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add element-plus@latest</span><br></pre></td></tr></table></figure>\n<p>新建 <code>src/plugins</code>文件夹，管理第三方插件。该目录下新建 <code>index.ts</code> 作为出口文件暴露所有插件。新建 <code>element-ui</code> 文件夹，编辑 <code>element-plus</code> 相关配置。如果再添加其他插件，参考 <code>element-plus</code>逻辑。最终结构如下:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├── plugins</span><br><span class=\"line\">│   ├── index.ts        所有插件汇总统一暴露的出口文件</span><br><span class=\"line\">│   └── element-ui      element-plus 配置文件夹</span><br><span class=\"line\">│       ├── index.ts    js 配置</span><br><span class=\"line\">│       └── index.scss  自定义主题文件</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/** src/plugins/element-ui/index.scss */</span></span><br><span class=\"line\">$--color-primary: pink;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 改变 icon 字体路径变量，必需 */</span></span><br><span class=\"line\">$--font-path: <span class=\"string\">'node_modules/element-plus/lib/theme-chalk/fonts'</span>;</span><br><span class=\"line\"><span class=\"meta\">@import</span> <span class=\"string\">'node_modules/element-plus/packages/theme-chalk/src/index.scss'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/** src/plugins/element-ui/index.ts */</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Element <span class=\"keyword\">from</span> <span class=\"string\">'element-plus'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./index.scss'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; App &#125; <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setupElementUI</span>(<span class=\"params\">app: App&lt;Element&gt;</span>) </span>&#123;</span><br><span class=\"line\">  app.config.globalProperties.$ELEMENT = &#123; size: <span class=\"string\">'medium'</span>, zIndex: <span class=\"number\">3000</span> &#125;</span><br><span class=\"line\">  app.use(Element)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/** src/plugins/index.ts */</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; App &#125; <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; setupElementUI &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./element-ui'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setupGlobPlugins</span>(<span class=\"params\">app: App&lt;Element&gt;</span>) </span>&#123;</span><br><span class=\"line\">  setupElementUI(app)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>在 <code>main.ts</code> 中注册插件</p>\n<figure class=\"highlight diff\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"addition\">+  &#123; setupGlobPlugins &#125; from './plugins'</span></span><br><span class=\"line\">async function bootstrap() &#123;</span><br><span class=\"line\"><span class=\"addition\">+  await setupGlobPlugins(app)</span></span><br><span class=\"line\">  await setupStore(app)</span><br><span class=\"line\">  await setupRouter(app)</span><br><span class=\"line\"></span><br><span class=\"line\">  // 所有组件注册完成</span><br><span class=\"line\">  await router.isReady()</span><br><span class=\"line\">  app.mount('#app')</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"tailwindcss\"><a href=\"#tailwindcss\" class=\"headerlink\" title=\"tailwindcss\"></a>tailwindcss</h2><p>参考<a href=\"https://tailwindcss.com/docs/guides/vue-3-vite#setting-up-tailwind-css\" target=\"_blank\" rel=\"noopener\">官方文档</a>, 安装配置</p>\n","categories":[{"name":"vue","path":"api/categories/vue.json"}],"tags":[{"name":"vue3","path":"api/tags/vue3.json"},{"name":"vite","path":"api/tags/vite.json"}]}